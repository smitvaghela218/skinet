<mat-card class="max-w-lg mx-auto p-8 bg-white">
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">

        <div class="text-center mb-6">
            <h1 class="text-3xl font-semibold text-primary">Create User</h1>
        </div>


        <mat-form-field appearance="outline" class="w-full mb-4">
            <mat-label>First Name</mat-label>
            <input formControlName="firstName" type="text" placeholder="Enter first name" matInput />
            @if(userForm.get('firstName')?.hasError('required'))
            {
            <mat-error>First Name is required </mat-error>
            }
            <!-- <mat-error *ngIf="userForm.get('firstName')?.hasError('required')">First name is required</mat-error> -->
        </mat-form-field>

        <!-- Last Name -->
        <mat-form-field appearance="outline" class="w-full mb-4">
            <mat-label>Last Name</mat-label>
            <input formControlName="lastName" type="text" placeholder="Enter last name" matInput />
            @if(userForm.get('firstName')?.hasError('required'))
            {
            <mat-error>Last Name is required </mat-error>
            }
            <!-- <mat-error *ngIf="userForm.get('lastName')?.hasError('required')">Last name is required</mat-error> -->
        </mat-form-field>

        <!-- Email -->
        <mat-form-field appearance="outline" class="w-full mb-4">
            <mat-label>Email address</mat-label>
            <input formControlName="email" type="email" placeholder="name@example.com" matInput />
            @if(userForm.get('email')?.hasError('required'))
            {
            <mat-error>Email address is required </mat-error>
            } @if(userForm.get('email')?.hasError('email'))
            {
            <mat-error>Email address is invalid </mat-error>
            }
            <!-- <mat-error *ngIf="userForm.get('email')?.hasError('required')">Email is required</mat-error>
            <mat-error *ngIf="userForm.get('email')?.hasError('email')">Email is invalid</mat-error> -->
        </mat-form-field>

        <!-- Password -->
        <mat-form-field appearance="outline" class="w-full mb-4">
            <mat-label>Password</mat-label>
            <!-- <input formControlName="password" [type]="showPassword ? 'text' : 'password'" placeholder="Password"
                matInput /> -->
            <input formControlName="password" type='password' placeholder="Password" matInput />
            @if(userForm.get('password')?.hasError('required'))
            {
            <mat-error>Password is required </mat-error>
            }
            <!-- <mat-error *ngIf="userForm.get('password')?.hasError('required')">Password is required</mat-error> -->
        </mat-form-field>

        <!-- Role Selection -->
        <div class="flex items-center mb-4">
            <label class="text-base font-medium mr-4 ">Role:</label>
            <mat-radio-group formControlName="role" class="flex">
                <mat-radio-button value="Admin" class="mr-4">Admin</mat-radio-button>
                <mat-radio-button value="Customer">Customer</mat-radio-button>
            </mat-radio-group>
            @if(userForm.get('role')?.hasError('required'))
            {
            <mat-error>role is required </mat-error>
            }
        </div>

        @if (validationErrors) {
        <div class="mb-3 p-4 bg-red-100 text-red-600">
            <ul class="list-disc px-3">
                @for (error of validationErrors; track $index) {
                <li>{{error}}</li>
                }
            </ul>
        </div>
        }

        <!-- Submit Button -->
        <button [disabled]="userForm.invalid" mat-flat-button type="submit" class="w-full py-2">
            Create User
        </button>

    </form>
</mat-card>